# 説明

合法な割り当てが存在するかの判定問題をSATで書いてソルバに解かせて解の存在判定をして、辞書順最大を求めるときの定番テクである先頭から1つ決めて解が存在するかチェックするやつをやります。計算時間は50分ぐらいです。SATは自分では書かずもっと表現力が高い文法で書いてSATに変換してくれるsugarというソフトを使いました
SATソルバの時間が見積もれないのが少し困っています。今の入力ファイルだと、解が存在するときは10秒ぐらいで出てくるが、解が存在しない（と思われる）場合はかなり長い時間待っても返事が返って来ないという挙動をしめしたので、30秒でタイムアウトさせて解なし扱いにしてます。他の入力ファイルだとどうなるか保証がありません。

ランクが等しい部屋/グループが存在する場合、ランクが等しいもの同士 id 順に順序をつけてから解きます。

# 動かし方

やってることは sugar に渡すための csp という形式のテキストファイルを作り sugar に解かせて、結果を解釈して表示するだけなので
何はともあれ sugar というソフトをインストールする必要があります。 http://bach.istc.kobe-u.ac.jp/sugar/

sugar を動かすためには何かしら SAT ソルバーが必要になります。開発時は glucose を使っていました。 http://www.labri.fr/perso/lsimon/glucose/

sugar が無事使えるようになったら250行目ぐらいの sugar のパスを書き換えます。

そしてコンパイル・実行

```
g++ -std=c++11 -O2 main.cpp && time ./a.exe < inputdata/input.12.txt
```

出力は、適当な形式の文字列が出力されるので忖度してください。
